# Oen Payment 真實支付功能設定指南

## 步驟 1: 申請 Oen Payment 商戶帳號

### 🌐 官方網站
- **官網**: https://payment.oen.tw
- **商戶申請**: https://payment.oen.tw/merchant/register
- **技術文件**: https://docs.payment.oen.tw

### 📋 申請所需資料
1. **公司/個人資料**
   - 統一編號（公司） / 身份證字號（個人）
   - 公司登記證明 / 身份證正反面
   - 營業登記證（如有）
   - 負責人身份證明

2. **銀行帳戶資料**
   - 銀行帳號（撥款用）
   - 存摺封面影本
   - 開戶證明文件

3. **網站/服務資料**
   - 網站 URL: `https://your-domain.zeabur.app`
   - 服務說明: 小汪記記 LINE Bot 待辦事項管理與訂閱服務
   - 預估月交易額: 依實際情況填寫

### 💳 帳號類型選擇
- **個人商戶**: 適合個人開發者，審核較快
- **企業商戶**: 需要公司登記，功能較完整
- **建議**: 先申請個人商戶進行測試

## 步驟 2: 獲取 API 金鑰和認證

### 🔑 需要獲取的資訊
申請通過後，你會獲得：

1. **商戶 ID (Merchant ID)**
   ```
   格式: OEN_XXXXXXXXXXXXXXXX
   用途: 識別你的商戶帳號
   ```

2. **API 金鑰 (API Key)**
   ```
   格式: 32位隨機字串
   用途: API 請求認證
   ```

3. **簽章密鑰 (Secret Key)**
   ```
   格式: 64位隨機字串  
   用途: 支付回調簽名驗證
   ```

4. **測試環境金鑰**
   ```
   用途: 先在測試環境驗證功能
   正式上線前必須切換到正式環境
   ```

### 📞 聯絡方式
如果申請過程有問題：
- **客服電話**: (查看官網最新資訊)
- **技術支援**: tech-support@oen.tw
- **Line 官方帳號**: @oenpayment

## 步驟 3: 設定 Webhook URL

### 🌐 正式域名設置
在 Oen Payment 後台設定：
```
支付結果通知 URL: https://your-domain.zeabur.app/payment/callback
支付完成返回 URL: https://your-domain.zeabur.app/payment/success
支付取消返回 URL: https://your-domain.zeabur.app/payment/cancel
```

### 🔒 IP 白名單
可能需要設定 IP 白名單，允許 Oen Payment 服務器訪問你的 API

## 步驟 4: 費率資訊

### 💰 一般費率參考
- **信用卡**: 2.8% ~ 3.5%
- **ATM 轉帳**: 每筆 15-30 元
- **超商代碼**: 每筆 25-40 元
- **電子錢包**: 1.5% ~ 2.5%

*實際費率以 Oen Payment 官方報價為準

## 注意事項

### ⚠️ 重要提醒
1. **審核時間**: 通常 3-7 個工作天
2. **測試環境**: 先在測試環境完整驗證
3. **SSL 憑證**: 正式環境必須使用 HTTPS
4. **簽名驗證**: 生產環境務必啟用簽名驗證
5. **資金安全**: 定期檢查交易記錄和對帳

### 🛡️ 安全建議
- API 金鑰絕不公開或提交到版本控制
- 定期更換 API 金鑰
- 監控異常交易
- 設定適當的交易限額

## 下一步
完成申請後，請將獲得的金鑰資訊告訴我，我會協助你：
1. 更新系統配置
2. 部署到生產環境  
3. 進行真實支付測試