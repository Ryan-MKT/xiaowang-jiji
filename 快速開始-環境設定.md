# 🚀 快速開始 - 環境設定

## 現在你需要做的事

### 1️⃣ 建立測試 Bot（10 分鐘）
1. 開啟 [LINE Developers Console](https://developers.line.biz/console/)
2. 建立新 Channel → Messaging API
3. 名稱：`小汪記記-測試版`
4. 記下這些資訊：
   - Channel Secret
   - Channel Access Token（需要 Issue 產生）

### 2️⃣ 設定測試環境變數（5 分鐘）
編輯 `.env.development` 檔案：
```bash
# 把 "你的測試Bot_xxx" 替換成實際的值
LINE_CHANNEL_ACCESS_TOKEN=你的測試Bot_Access_Token
LINE_CHANNEL_SECRET=你的測試Bot_Channel_Secret
```

### 3️⃣ 下載 ngrok（5 分鐘）
1. 下載：https://ngrok.com/download
2. 解壓縮 ngrok.exe
3. 放到專案目錄或加入系統 PATH

## 🎮 開始使用

### 測試環境（開發用）
```bash
# 1. 切換到開發分支
git checkout develop

# 2. 切換到開發環境並啟動
npm run switch:dev

# 3. 另開終端機，執行 ngrok
ngrok http 3000

# 4. 複製 ngrok 網址，更新測試 Bot 的 Webhook
# https://xxx.ngrok.io/webhook
```

### 生產環境（部署用）
```bash
# 1. 切換到主分支
git checkout master

# 2. 合併開發分支
git merge develop

# 3. 推送到 GitHub（Zeabur 自動部署）
git push origin master
```

## 📂 檔案結構說明

```
小汪記記/
├── .env.development      ← 測試環境設定（需要你填寫）
├── .env.production       ← 生產環境設定（已有範本）
├── .env                  ← 當前使用的設定（自動產生）
├── switch-env.js         ← 環境切換工具
├── package.json          ← 已加入環境切換指令
└── server.js            ← 主程式
```

## 🔧 可用指令

| 指令 | 用途 |
|------|------|
| `npm run dev` | 啟動開發伺服器 |
| `npm run env:dev` | 切換到開發環境 |
| `npm run env:prod` | 切換到生產環境 |
| `npm run switch:dev` | 切換開發環境+啟動 |

## ✅ 環境設定完成檢查

- [ ] 已建立測試 Bot
- [ ] 已填寫 `.env.development`
- [ ] 已安裝 ngrok
- [ ] 已切換到 develop 分支
- [ ] 可以執行 `npm run dev`

## 🎯 下一步

1. **先在測試環境開發功能**
2. **測試沒問題後合併到 master**
3. **推送 GitHub 自動部署到 Zeabur**

---

💡 提示：現在 master 分支是生產環境，develop 分支是開發環境。
所有新功能都在 develop 開發，測試 OK 才合併到 master！